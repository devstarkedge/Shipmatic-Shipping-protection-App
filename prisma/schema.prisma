generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model product {
  id                       String   @id
  shop                     String
  title                    String
  description              String
  price                    String
  variantId                String
  imageUrl                 String
  published                Boolean
  selectedPricingOptions   String?
  isWidgetPublished        Boolean?
  selectedWidgetOptions    String?
  selectedVisiblityOptions String?
  selectedButtonOptions    String?
  pricingValue             String?
  selectedIconIndex        Int?
  iconSize                 Int?
  iconCornerRadius         Int?
  widgetBorderSize         Int?
  widgetCornerRadius       Int?
  widgetVerticalPadding    Int?
  widgetHorizontalPadding  Int?
  colorStates              String?  @db.Text
  addonTitle               String?
  enabledDescription       String?
  disabledDescription      String?
  minimumCharge            String?
  incrementAmount          String?
  createdAt                DateTime @default(now())
  updatedAt                DateTime  @updatedAt
}

model session {
  id            String    @id
  shop          String
  state         String
  isOnline      Boolean   @default(false)
  scope         String?
  expires       DateTime?
  accessToken   String
  userId        BigInt?
  firstName     String?
  lastName      String?
  email         String?
  accountOwner  Boolean   @default(false)
  locale        String?
  collaborator  Boolean?  @default(false)
  emailVerified Boolean?  @default(false)
}

model claim {
  id        String     @id
  orderId   String
  shop      String
  items     Json
  method    String
  status    String   @default("pending")
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model protection_settings {
  id              String   @id @default(cuid())
  shop            String
  fulfillmentRule String   @default("first_item")
  productSKU      String   @default("Insure01")
  exclusionType   String   @default("product_type")
  exclusionValues Json     @default("[]")
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt

  @@unique([shop])
}

model claim_portal_settings {
  id                 String   @id @default(cuid())
  shop               String   @unique
  selectedResolution String   @default("refund")
  days               String   @default("45")
  claimReasons       Json     @default("[]")
  noteField          String   @default("optional")
  proofField         String   @default("optional")
  createdAt          DateTime @default(now())
  updatedAt          DateTime @updatedAt
}

model notification_settings {
  id                     String   @id @default(cuid())
  shop                   String   @unique
  senderName             String   @default("wisdom-app-setup")
  senderEmail            String   @default("no-reply@captaintop.net")
  replyEmail             String   @default("shopifydevse@gmail.com")
  claimSubmitted         Boolean  @default(true)
  claimApprovedRefunded  Boolean  @default(true)
  claimApprovedReordered Boolean  @default(true)
  claimDeclined          Boolean  @default(false)
  createdAt              DateTime @default(now())
  updatedAt              DateTime @updatedAt
}
